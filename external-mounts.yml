# external-mounts.yml
# Volume mounts for files OUTSIDE the mars-user-plugin directory
#
# This file defines mounts for external resources like:
# - Credentials in other repositories
# - Dotfiles from separate repos
# - SSH keys from ~/.ssh
#
# For files that LIVE in this plugin, use mounted-files/ instead.
# The pre-up hook combines both into generated/docker-compose.override.yml
#
# Works for both E6 (mars-dev) and E30 (mars-runtime).

services:
  mars-container:
    volumes:
      # ==================================================================
      # External Volume Mounts (files outside this plugin)
      # ==================================================================
      # Format: - /host/path:/container/path:rw|ro
      # ==================================================================

      # CAPRA credentials (from joe-docs repo)
      - ~/dev/joe-docs/dev-ops/get_capra_access_token.sh:/root/dev/joe-docs/dev-ops/get_capra_access_token.sh:ro
      - ~/dev/joe-docs/dev-ops/capra_access_token:/root/dev/joe-docs/dev-ops/capra_access_token:rw
      - ~/dev/joe-docs/dev-ops/capra-api-key:/root/dev/joe-docs/dev-ops/capra-api-key:ro
      - ~/dev/joe-docs/dev-ops/Certificates_PKCS7_v5_14_DoD/DoD_PKE_CA_chain.pem:/root/dev/joe-docs/dev-ops/Certificates_PKCS7_v5_14_DoD/DoD_PKE_CA_chain.pem:ro
      - ~/dev/joe-docs/dev-ops/capra_model_list.sh:/root/dev/joe-docs/dev-ops/capra_model_list.sh:ro
      - ~/dev/joe-docs/dev-ops/capra_query.sh:/root/dev/joe-docs/dev-ops/capra_query.sh:ro

      # GitLab CE Personal Access Token (from joe-docs repo)
      - ~/dev/joe-docs/dev-ops/mars-gitlab-ce-token:/root/dev/joe-docs/dev-ops/mars-gitlab-ce-token:rw

      # Dotfiles (from dotfiles repo)
      - ~/dev/dotfiles/LazyVim-starter:/root/.config/nvim:rw
      - ~/dev/dotfiles/.bashrc:/root/.bashrc:rw
      - ~/dev/dotfiles/.zshrc:/root/.zshrc:rw
      - ~/dev/dotfiles/.common_shrc:/root/.common_shrc:rw

      # SSH keys (from ~/.ssh)
      - ~/.ssh/id_ed25519:/root/.ssh/github_id_ed25519:ro
      # --- AUTO-MOUNTS-MARKER (do not remove) ---

// Zellij Layout for MARS Development
//
// Available Themes (built-in):
//   - dracula (dark purple/pink, good contrast)
//   - nord (dark blue/gray, minimal)
//   - gruvbox-dark (warm dark brown/orange)
//   - gruvbox-light (warm light)
//   - tokyo-night (dark blue/purple)
//   - catppuccin-mocha (dark purple/pink)
//   - catppuccin-frappe (medium purple/pink)
//   - catppuccin-latte (light purple/pink)
//   - default (terminal default colors)
//
// To change theme: modify the 'theme' line below
theme "nord"

layout {
    // Default template for ALL tabs - provides tab bar and status bar
    default_tab_template {
        pane size=1 borderless=true {
            plugin location="zellij:tab-bar"
        }
        children
        pane size=2 borderless=true {
            plugin location="zellij:status-bar"
        }
    }
    tab name="Claude" {
        pane split_direction="vertical" {
            // Top row (50% height)
            pane split_direction="horizontal" size="50%" {
                pane {  // Top-Right
                    name "mars-testing"
                    size "50%"
                    command "bash"
                    args "-c" "sudo -u mars bash -c 'cd /workspace/mars-v2/mars-dev/worktrees/mars-testing && source ../../../mars-env.config && ../../../bin/mars-claude --permission-mode bypassPermissions \"Read mars-dev/docs/WORKTREE_FIRST_PROMPT.md and follow all instructions.\"'"
                }
                pane {  // Top-Left
                    name "mars-writing"
                    command "bash"
                    args "-c" "sudo -u mars bash -c 'cd /workspace/mars-v2/mars-dev/worktrees/mars-writing && source ../../../mars-env.config && ../../../bin/mars-claude --permission-mode bypassPermissions \"Read mars-dev/docs/WORKTREE_FIRST_PROMPT.md and follow all instructions.\"'"
                }
            }
            pane split_direction="horizontal" size="50%" {
                pane {  // Bottom-Right
                    name "mars-misc"
                    command "bash"
                    args "-c" "sudo -u mars bash -c 'cd /workspace/mars-v2/mars-dev/worktrees/mars-misc && source ../../../mars-env.config && ../../../bin/mars-claude --permission-mode bypassPermissions \"Read mars-dev/docs/WORKTREE_FIRST_PROMPT.md and follow all instructions.\"'"
                }
                pane {  // Bottom-Left
                    name "mars-memory"
                    command "bash"
                    args "-c" "sudo -u mars bash -c 'cd /workspace/mars-v2/mars-dev/worktrees/mars-memory && source ../../../mars-env.config && ../../../bin/mars-claude --permission-mode bypassPermissions \"Read mars-dev/docs/WORKTREE_FIRST_PROMPT.md and follow all instructions.\"'"
                }
            }
        }
    }
    tab name="Neovim" {
        pane split_direction="vertical" {
            pane {  // Left
                name "cmd"
                size "30%"
                command "zsh"
                args "-c" "cd /workspace/mars-v2 && source mars-env.config && exec zsh"
            }
            pane {  // Right
                name "Neovim"
                command "zsh"
                args "-c" "cd /workspace/mars-v2 && source mars-env.config && nvim"
            }
        }
    }
}

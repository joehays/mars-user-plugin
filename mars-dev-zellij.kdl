layout {
    // Default template for ALL tabs - provides tab bar and status bar
    default_tab_template {
        pane size=1 borderless=true {
            plugin location="zellij:tab-bar"
        }
        children
        pane size=2 borderless=true {
            plugin location="zellij:status-bar"
        }
    }

    tab name="Claude" {
        pane split_direction="vertical" {
            // Top row (60% height)
            pane split_direction="horizontal" size="60%" {
                pane {  // Top-Right
                    name "mars-testing"
                    size "70%"
                    command "bash"
                    args "-c" "sudo -u mars bash -c 'cd /workspace/mars-v2 && source mars-env.config && bin/mars-claude --permission-mode bypassPermissions'"
                }
                pane {  // Top-Left
                    name "mars-writing"
                    size "30%"
                    command "bash"
                    args "-c" "sudo -u mars bash -c 'cd /workspace/mars-v2 && source mars-env.config && bin/mars-claude --permission-mode bypassPermissions'"
                }
            }
            pane split_direction="horizontal" size="40%" {
                pane {  // Bottom-Right
                    name "mars-misc"
                    command "bash"
                    args "-c" "sudo -u mars bash -c 'cd /workspace/mars-v2 && source mars-env.config && bin/mars-claude --permission-mode bypassPermissions'"
                }
                pane {  // Bottom-Left
                    name "cmd"
                    command "zsh"
                    args "-c" "cd /workspace/mars-v2 && source mars-env.config && exec zsh"
                }
            }
        }
    }
    tab name="Neovim" {
        pane split_direction="vertical" {
            pane {  // Left
                name "cmd"
                size "30%"
                command "zsh"
                args "-c" "cd /workspace/mars-v2 && source mars-env.config && exec zsh"
            }
            pane {  // Right
                name "Neovim"
                command "zsh"
                args "-c" "cd /workspace/mars-v2 && source mars-env.config && nvim"
            }
        }
    }
}
